<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion des Réclamations - Back Office</title>
   
    
    <link rel="stylesheet" href="REC_FORMBackOffice.css"> <!-- Lien vers un fichier CSS externe pour les styles -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- Pour les graphiques interactifs -->
</head>
<body>
    <div class="container">
        <header>
            <h1>Gestion des Réclamations</h1>
        </header>
        
        <!-- Filtres de Recherche -->
        <section class="filters">
            <h2>Filtres de Recherche</h2>
            <form action="" method="get">
                <label for="status">Statut:</label>
                <select id="status" name="status">
                    <option value="all">Tous</option>
                    <option value="new">Nouveaux</option>
                    <option value="resolved">Résolu</option>
                    <option value="in-progress">En cours</option>
                    <option value="rejected">Refusé</option>
                </select>

                <label for="category">Catégorie:</label>
                <select id="category" name="category">
                    <option value="all">Toutes</option>
                    <option value="professor">Réclamation sur un professeur</option>
                    <option value="course">Réclamation sur un cours</option>
                    <option value="technical">Problème technique sur le site web</option>
                    <option value="service">Réclamation sur un service spécifique</option>
                    <option value="other">Autres</option>
                </select>

                <label for="priority">Priorité:</label>
                <select id="priority" name="priority">
                    <option value="urgent">Urgentes</option>
                </select>

                <button type="submit">Appliquer les filtres</button>
            </form>
        </section>

        <!-- Affichage du nombre total des réclamations -->
        <section class="total-reclamations">
            <p><strong>Total des réclamations :</strong> <span id="totalCount">5</span></p>
        </section>

        <!-- Tableau de bord avec graphiques -->
        <section class="dashboard">
            <h2>Tableau de Bord</h2>
            <canvas id="reclamationsChart" width="400" height="200"></canvas>
            <p><strong>Statistiques:</strong></p>
            <ul>
                <li>Total Réclamations: <span id="totalCount">5</span></li>
                <li>Réclamations en Cours: 3</li>
                <li>Réclamations Résolues: 2</li>
                <li>Réclamations Urgentes: 1</li>
            </ul>
        </section>

        <!-- Liste des réclamations -->
        <section class="reclamations-list">
            <h2>Liste des Réclamations</h2>
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Utilisateur</th>
                        <th>Catégorie</th>
                        <th>Statut</th>
                        <th>Date Soumission</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>001</td>
                        <td>Jean Dupont</td>
                        <td>Réclamation sur un professeur</td>
                        <td><span class="status new">Nouveau</span></td>
                        <td>12/11/2024</td>
                        <td>
                            <button class="view-button" onclick="viewDetails(1)">Voir</button>
                            <button class="resolve-button" onclick="resolveClaim(1)">Résoudre</button>
                            <button class="close-button" onclick="closeClaim(1)">Réfuser</button>
                        </td>
                    </tr>
                    <tr>
                        <td>002</td>
                        <td>Marie Lemoine</td>
                        <td>Problème technique sur le site web</td>
                        <td><span class="status in-progress">En cours</span></td>
                        <td>11/11/2024</td>
                        <td>
                            <button class="view-button" onclick="viewDetails(2)">Voir</button>
                            <button class="resolve-button" onclick="resolveClaim(2)">Résoudre</button>
                            <button class="close-button" onclick="closeClaim(2)">Réfuser</button>
                        </td>
                    </tr>
                    <!-- Plus de réclamations peuvent être ajoutées ici -->
                </tbody>
            </table>
        </section>

        <!-- Détails de la réclamation (modale ou section visible au clic) -->
        <section id="reclamationDetails" class="reclamation-details">
            <h3>Détails de la Réclamation</h3>
            <p><strong>ID:</strong> <span id="reclamationId">001</span></p>
            <p><strong>Utilisateur:</strong> <span id="reclamationUser">Jean Dupont</span></p>
            <p><strong>Catégorie:</strong> Réclamation sur un professeur</p>
            <p><strong>Description:</strong> Problème avec le professeur durant le cours de mathématiques.</p>
            <h4>Commentaires Internes</h4>
            <textarea id="internalComment" placeholder="Ajouter un commentaire interne..."></textarea>
            <button onclick="addInternalComment()">Ajouter un commentaire</button>

            <h4>Historique des Actions</h4>
            <ul id="actionHistory">
                <li>12/11/2024: Réclamation soumise.</li>
                <li>13/11/2024: Statut changé en "En Cours".</li>
            </ul>
        </section>

        <footer>
            <p>&copy; 2024 Questerra. Tous droits réservés.</p>
        </footer>
    </div>

    <script src="scripts.js"></script> <!-- Lien vers un fichier JavaScript externe pour les interactions -->
    
    <script>
        // Graphiques interactifs avec Chart.js
        const ctx = document.getElementById('reclamationsChart').getContext('2d');
        const reclamationsChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Tous', 'Nouveaux', 'Résolus', 'En Cours'],
                datasets: [{
                    label: 'Réclamations par Statut',
                    data: [5, 1, 2, 3], // Les données peuvent être dynamiques
                    backgroundColor: ['#2196F3', '#ffcc00', '#4CAF50', '#f44336']
                }]
            }
        });

        // Fonctions pour gérer les réclamations
        function viewDetails(id) {
            // Afficher les détails d'une réclamation spécifique
            document.getElementById('reclamationDetails').style.display = 'block';
        }

        function resolveClaim(id) {
            // Résoudre une réclamation
            alert(`Réclamation ${id} résolue !`);
        }

        function closeClaim(id) {
            // Clôturer une réclamation
            alert(`Réclamation ${id} clôturée !`);
        }

        function addInternalComment() {
            // Ajouter un commentaire interne
            const comment = document.getElementById('internalComment').value;
            const history = document.getElementById('actionHistory');
            const newHistoryItem = document.createElement('li');
            newHistoryItem.textContent = `Commentaire interne ajouté: ${comment}`;
            history.appendChild(newHistoryItem);
        }
    </script>
</body>
</html>
